package com.korea.todo.persistence;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;
import org.springframework.stereotype.Repository;

import com.korea.todo.model.TodoEntity;

@Repository //주로 데이터베이스와 상호작용하는 클래스에서 사용되며, CRUD와 같은 데이터베이스 작업을 처리하는데 사용됨
//@Component의 자식 어노테이션이므로 자동으로 bean으로 등록됨
//다른 계층에서 주입받아 사용할 수 있음

//JpaRepository<T, ID>
//Spring data JPA에서 제공하는 기본 인터페이스로 JPA를 사용하여 데이터베이스 작업을 쉽게 처리할 수 있도록 도와주는 역할을 함
//T는 엔티티 클래스, ID는 엔티티클래스의 기본 키 타입을 의미함

public interface TodoRepository extends JpaRepository<TodoEntity, String>{
	
	//t.userId=?1
	//userId필드가 주어진 파라미터와 일치하는 TodoEntity객체들을 조회하는 조건
	@Query("Select t from TodoEntity t where t.userId=?1")
	List<TodoEntity> findByUserIdQuery(String userId);
	
}
